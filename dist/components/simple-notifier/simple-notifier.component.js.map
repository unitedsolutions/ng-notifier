{"version":3,"file":"simple-notifier.component.js","sourceRoot":"","sources":["../../../tmp/components/simple-notifier/simple-notifier.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,KAAK,CAAC,MAAkB,QAAQ,CAAC;AACxC,OAAO,EAAC,SAAS,EAAE,KAAK,EAAC,MAAM,eAAe,CAAC;AAC/C,OAAO,EAAC,QAAQ,EAAC,MAAc,iCAAiC,CAAC;AAwBjE;IAQE,iCAAoB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;QAHtC,eAAU,GAAG,IAAI,CAAC;IAGuB,CAAC;IAE1C,0CAAQ,GAAR;QAAA,iBAKC;QAJC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;YACvD,CAAC,CAAC,MAAM,CAAC,KAAI,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;YACtC,KAAI,CAAC,OAAO,GAAG,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,EAAE,EAAZ,CAAY,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAK,GAAL;QACE,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,6CAAW,GAAX;QACE,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IAnBQ;QAAR,KAAK,EAAE;;4DAAS;IANN,uBAAuB;QAtBnC,SAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,QAAQ,EAAE,uxBAkBT;SACF,CAAC;yCAS8B,QAAQ;OAR3B,uBAAuB,CA0BnC;IAAD,8BAAC;CAAA,AA1BD,IA0BC;SA1BY,uBAAuB","sourcesContent":["import * as _             from 'lodash';\nimport {Component, Input} from '@angular/core';\nimport {Notifier}         from '../../services/notifier.service';\n\n@Component({\n  selector: 'ng-simple-notifier',\n  template: `\n    <div *ngIf = \"visible\" class = \"ng-simple-notifier-container\" \n    [ngClass] = \"classes?.container\">\n      <div class = \"ng-simple-notifier\" [ngClass] = \"classes?.notifier\">\n        <div class = \"ng-simple-notifier-inner\">\n          <div class = \"ng-simple-notifier-icon\" [ngClass] = \"classes?.icon\"></div>\n          <div class = \"ng-simple-notifier-messages\">\n            <div class = \"ng-simple-notifier-message\" *ngFor = \"let part of message\">\n              {{part}}\n            </div>\n          </div>\n          <div class = \"ng-simple-notifier-closer\" [ngClass] = \"classes?.closer\"\n          (click) = \"close()\">\n            <span *ngIf = \"!classes?.closer\">&times;</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class SimpleNotifierComponent {\n  visible;\n  message;\n  timeout;\n  classes;\n  activeTime = 2000;\n  @Input() address;\n  \n  constructor(private notifier: Notifier) {}\n\n  ngOnInit() {\n    this.notifier.registerHandle(this.address).subscribe(data => {\n      _.extend(this, data, {visible: true});\n      this.timeout = setTimeout(() => this.close(), this.activeTime);\n    });    \n  }\n\n  close() {\n    clearTimeout(this.timeout);\n    this.visible = false;\n  }\n\n  ngOnDestroy() {\n    clearTimeout(this.timeout);\n    this.notifier.deregisterHandle(this.address);\n  }\n}\n"]}