{"version":3,"file":"actions-notifier.component.js","sourceRoot":"","sources":["../../../tmp/components/actions-notifier/actions-notifier.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,KAAK,CAAC,MAAkB,QAAQ,CAAC;AACxC,OAAO,EAAC,SAAS,EAAE,KAAK,EAAC,MAAM,eAAe,CAAC;AAC/C,OAAO,EAAC,QAAQ,EAAC,MAAc,iCAAiC,CAAC;AAuCjE;IASE,kCAAoB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;IAAG,CAAC;IAE1C,2CAAQ,GAAR;QAAA,iBAIC;QAHC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,UAAA,IAAI;YACvD,CAAC,CAAC,MAAM,CAAC,KAAI,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAK,GAAL;QACE,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,8CAAW,GAAX;QACE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IAhBQ;QAAR,KAAK,EAAE;;6DAAS;IAPN,wBAAwB;QArCpC,SAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;YAC/B,QAAQ,EAAE,u7CAiCT;SACF,CAAC;yCAU8B,QAAQ;OAT3B,wBAAwB,CAwBpC;IAAD,+BAAC;CAAA,AAxBD,IAwBC;SAxBY,wBAAwB","sourcesContent":["import * as _             from 'lodash';\nimport {Component, Input} from '@angular/core';\nimport {Notifier}         from '../../services/notifier.service';\n\n@Component({\n  selector: 'ng-actions-notifier',\n  template: `\n    <div *ngIf = \"visible\" class = \"ng-actions-notifier-container\" \n    [ngClass] = \"classes?.container\">\n      <div class = \"ng-actions-notifier\" [ngClass] = \"classes?.notifier\">\n        <div class = \"ng-actions-notifier-header\">\n          <div class = \"ng-actions-notifier-title\">\n            {{title}}\n          </div>\n          <div class = \"ng-actions-notifier-closer\" [ngClass] = \"classes?.closer\"\n          (click) = \"close(); onClose && onClose()\">\n            <span *ngIf = \"!classes?.closer\">&times;</span>\n          </div>\n        </div>\n        <div class = \"ng-actions-notifier-body\">\n          <div class = \"ng-actions-notifier-icon\" [ngClass] = \"classes?.icon\"></div>\n          <div class = \"ng-actions-notifier-messages\">\n            <div class = \"ng-actions-notifier-message\" *ngFor = \"let part of message\">\n              {{part}}\n            </div>\n          </div>\n        </div>\n        <div class = \"ng-actions-notifier-footer\">\n          <div class = \"ng-actions-notifier-actions\">\n            <div class = \"ng-actions-notifier-action\" *ngFor = \"let action of actions\">\n              <button class = \"ng-actions-notifier-button {{action.class}}\" \n              (click) = \"action.callback && action.callback(); this.close()\">\n                {{action.label}}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class ActionsNotifierComponent {\n  visible;\n  message;\n  classes;\n  title;\n  actions;\n  onClose;\n  @Input() address;\n  \n  constructor(private notifier: Notifier) {}\n  \n  ngOnInit() {\n    this.notifier.registerHandle(this.address).subscribe(data => {\n      _.extend(this, data, {visible: true});\n    });\n  }\n\n  close() {\n    this.visible = false;\n  }\n\n  ngOnDestroy() {\n    this.notifier.deregisterHandle(this.address);\n  }\n}\n"]}